{% assign title = objects.site.name | append: " | About" %}
{% layout 'theme' title: title
  , active_page: "about" %}
{% assign about = objects.about %}
{% assign story_blocks = about_stories | sort: "order" %}
{% assign stats = about_stats | sort: "order" %}
{% assign expertise_items = about_expertises | sort: "order" %}
{% assign process_steps = about_processes | sort: "order" %}
{% assign featured_logos = about_features | sort: "order" %}

<!-- About Section -->
<div class="about-section">
  <!-- Hero Introduction -->
  <div class="about-hero">
    <div class="about-hero-content animate-on-scroll">
      <h2 class="section-title">{{ about.hero_title }}</h2>
      <p class="lead-text">{{ about.hero_lead }}</p>
    </div>
  </div>

  <!-- Stats Counter -->
  {% if stats and stats.size > 0 %}
    <div class="stats-grid animate-on-scroll">
      {% for stat in stats %}
        <div class="stat-item" data-count="{{ stat.value }}">
          <span class="stat-number">0</span>
          <span class="stat-label">{{ stat.label }}</span>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Story Section -->
  <div class="about-story">
    <div class="story-content animate-on-scroll">
      <h3 class="content-title">{{ about.story_title }}</h3>
      {% for block in story_blocks %}
        <p>{{ block.body }}</p>
      {% endfor %}

      {% if about.quote_text %}
        <blockquote class="quote">
          {{ about.quote_text }}
          {% if about.quote_citation %}
            <cite>{{ about.quote_citation }}</cite>
          {% endif %}
        </blockquote>
      {% endif %}
    </div>

    <div class="story-image animate-on-scroll">
      <div class="image-stack">
        <div class="stack-item stack-item-1"></div>
        <div class="stack-item stack-item-2"></div>
        <div class="stack-item stack-item-3"></div>
      </div>
    </div>
  </div>

  <!-- Expertise Areas -->
  {% if expertise_items and expertise_items.size > 0 %}
    <div class="expertise-section animate-on-scroll">
      <h3 class="content-title">Expertise</h3>
      <div class="expertise-grid">
        {% for card in expertise_items %}
          <div class="expertise-card">
            <div class="expertise-icon">{{ card.icon }}</div>
            <h4>{{ card.title }}</h4>
            <p>{{ card.description }}</p>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}

  <!-- Process Timeline -->
  {% if process_steps and process_steps.size > 0 %}
    <div class="process-section animate-on-scroll">
      <h3 class="content-title">My Process</h3>
      <div class="timeline">
        {% for step in process_steps %}
          <div class="timeline-item">
            <div class="timeline-marker"></div>
            <div class="timeline-content">
              <h4>{{ step.title }}</h4>
              <p>{{ step.description }}</p>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}

  <!-- Featured In -->
  {% if featured_logos and featured_logos.size > 0 %}
    <div class="featured-section animate-on-scroll">
      <h3 class="content-title">As Featured In</h3>
      <div class="featured-logos">
        {% for logo in featured_logos %}
          <div class="logo-item">{{ logo.name }}</div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
</div>
